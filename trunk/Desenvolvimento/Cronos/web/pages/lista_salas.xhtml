<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
    <div id="principal">
        <h:form id="form">  

            <p:growl id="messages" showDetail="true"/> 

            <p:dataTable var="classRoom" value="#{listarSalas.salas}" editable="true" rowKey="#{classRoom.name}" paginator="true" rows="10"  selectionMode="single" id="classRoomTable">  

                <p:ajax event="rowEdit" listener="#{listarSalas.onEdit}" update=":form:messages"/>  
                <p:ajax event="rowEditCancel" listener="#{listarSalas.onCancel}" update=":form:messages"/>  

                <p:column headerText="Id">  
                    <h:outputText value="#{classRoom.id}" />  
                </p:column>  

                <p:column headerText="Nome" resizable="true">  
                    <p:cellEditor>  
                        <f:facet name="output">
                            <h:outputText value="#{classRoom.name}" />  
                        </f:facet>
                        <f:facet name="input">  
                            <p:inputText value="#{listarSalas.name}" style="width:100%"/>  
                        </f:facet> 
                    </p:cellEditor>
                </p:column>  

                <p:column headerText="Abreviatura">  
                    <p:cellEditor>
                        <f:facet name="output">
                            <h:outputText value="#{classRoom.short}" />
                        </f:facet>
                        <f:facet name="input">  
                            <p:inputText value="#{listarSalas.short}" style="width:100%"/>  
                        </f:facet> 
                    </p:cellEditor>
                </p:column>  

                <p:column headerText="Capacidade"> 
                    <p:cellEditor>
                        <f:facet name="output">
                            <h:outputText value="#{classRoom.capacity}" /> 
                        </f:facet>
                        <f:facet name="input">  
                            <p:inputText value="#{listarSalas.capacity}" style="width:100%"/>  
                        </f:facet> 
                    </p:cellEditor>
                </p:column> 

                <p:column headerText="Prédio">  
                    <p:cellEditor>
                        <f:facet name="output">
                            <h:outputText value="#{classRoom.building}" /> 
                        </f:facet>
                        <f:facet name="input">  
                            <p:inputText id="building" value="#{listarSalas.building}" style="width:100%"/> 
                        </f:facet> 
                    </p:cellEditor>
                </p:column> 

                <p:column headerText="Dono">  
                    <p:cellEditor>
                        <f:facet name="output">
                            <h:outputText value="#{classRoom.owner.login}" /> 
                        </f:facet>
                        <f:facet name="input">  
                            <h:outputLabel value="Dono: " for="owner" />  
                            <p:autoComplete value="#{listarSalas.owner}" id="owner" completeMethod="#{userBean.completeUser()}" 
                                            converter="userConverter" var="u" itemLabel="#{u.login}" itemValue="#{u}" forceSelection="true" >  

                            </p:autoComplete>
                        </f:facet> 
                    </p:cellEditor>
                </p:column>

                <p:column headerText="Status">  
                    <p:cellEditor>
                        <f:facet name="output">
                            <h:outputText value="#{classRoom.status}" />
                        </f:facet>
                        <f:facet name="input"> 
                            <p:selectOneMenu value="#{listarSalas.type}">  
                                <f:selectItems value="#{typeBean.tiposSala}" var="t" itemLabel="#{t.nome}" itemValue="#{t}" /> 
                            </p:selectOneMenu>
                        </f:facet> 
                    </p:cellEditor>
                </p:column> 

                <p:column headerText="Reservável">  
                    <p:cellEditor>
                        <f:facet name="output">
                            <h:outputText value="#{classRoom.bookable}" />
                        </f:facet>
                        <f:facet name="input"> 
                            <p:selectBooleanCheckbox value="#{listarSalas.bookable}" style="margin-left: 25%" /> 
                        </f:facet> 
                    </p:cellEditor>
                </p:column> 

                <p:column style="width:6%">  
                    <p:rowEditor />  
                </p:column>  


            </p:dataTable> 


        </h:form>
    </div>
</ui:composition>
