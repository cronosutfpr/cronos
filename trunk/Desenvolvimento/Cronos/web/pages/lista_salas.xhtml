<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
    <div id="principal">
        <h:form id="form_reserva"> 
            <p:panel id="panel_reserva" header="Listagem de Salas"> 

                <h:panelGrid columns="14"  cellpadding="2">  
                    <h:outputLabel for="classe" value="Descrição:"/>
                    <p:inputText id="classe" size="35" value=""/> 
                    <p:message for="classe" />

                    <h:outputLabel for="type" value="Tipo:"/>
                    <p:selectOneMenu id="type" value="#{typeBean.type}">  
                         <f:selectItems value="#{typeBean.tiposSala}" var="t" itemLabel="#{t.nome}" itemValue="#{t}" /> 
                    </p:selectOneMenu> 
                    <p:message for="type" />

                    <h:outputLabel for="short" value="Abreviatura:"/>
                    <p:inputText id="short" size="5" value=""/> 
                    <p:message for="short" />

                    <h:outputLabel for="capacity" value="Capacidade:"/>
                    <p:inputText id="capacity" size="5" value=""/> 
                    <p:message for="capacity" />

                     <h:outputLabel for="bookable" value="Reservável:"/>
                    <p:selectBooleanCheckbox id="bookable" value="" />  
                    <p:message for="bookable" />
                    <p:commandButton value="Buscar"/>  
                </h:panelGrid>

                <p:growl id="growl" showDetail="true"/>  

                <p:dataTable id="table_classRoom" var="classRoom" value="#{tableClassRoom.classRooms}" paginator="true" rows="15" paginatorPosition="bottom"
                             rowKey="#{classRoom.id}" selection="#{tableClassRoom.selectedClassRoom}" selectionMode="single">  

                    <p:ajax event="rowSelect" listener="#{tableClassRoom.onRowSelect}" 
                            update=":form_reserva:display :form_reserva:growl" oncomplete="classRoomDialog.show()" />  
                    <p:ajax event="rowUnselect" listener="#{tableClassRoom.onRowUnselect}" update=":form_reserva:growl"/>  

                    <p:column headerText="Id">  
                        <h:outputText value="#{classRoom.id}" />  
                    </p:column>  
                    <p:column headerText="Nome">  
                        <h:outputText value="#{classRoom.name}" />  
                    </p:column>  

                    <p:column headerText="Abreviatura">  
                        <h:outputText value="#{classRoom.short}" />  
                    </p:column>  

                    <p:column headerText="Capacidade">  
                        <h:outputText value="#{classRoom.capacity}" />  
                    </p:column>  

                    <p:column headerText="Tipo">  
                        <h:outputText value="#{classRoom.type}" />  
                    </p:column>  
                    <p:column headerText="Reservável">  
                        <h:outputText value="#{classRoomBean.reservavel}" />  
                    </p:column>  
                </p:dataTable> 
            </p:panel> 

            <p:dialog id="dialog" header="Detalhes da Sala" widgetVar="classRoomDialog" resizable="false"  
                      showEffect="fade" hideEffect="explode">  

                <h:panelGrid id="display" columns="2" cellpadding="4">  

                    <h:outputText value="Name:" />  
                    <h:outputText value="#{tableClassRoom.selectedClassRoom.name}" />  

                </h:panelGrid>  
            </p:dialog>  


        </h:form>
    </div>
</ui:composition>