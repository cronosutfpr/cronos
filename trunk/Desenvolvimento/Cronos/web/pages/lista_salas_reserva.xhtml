<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
    <div id="principal">
        <h:form id="form_reserva"> 
            <p:panel id="panel_reserva" header="Listagem de Salas"> 

                <h:panelGrid columns="14"  cellpadding="2">  
                    <h:outputLabel for="classe" value="Descrição:"/>
                    <p:inputText id="classe" size="35" value=""/> 
                    <p:message for="classe" />

                    <h:outputLabel for="type" value="Tipo:"/>
                    <p:selectOneMenu id="type" value="#{typeBean.type}">  
                        <f:selectItems value="#{typeBean.tiposSala}" var="t" itemLabel="#{t.nome}" itemValue="#{t}" /> 
                    </p:selectOneMenu> 
                    <p:message for="type" />

                    <h:outputLabel for="short" value="Abreviatura:"/>
                    <p:inputText id="short" size="5" value=""/> 
                    <p:message for="short" />

                    <h:outputLabel for="capacity" value="Capacidade:"/>
                    <p:inputText id="capacity" size="5" value=""/> 
                    <p:message for="capacity" />

                    <h:outputLabel for="bookable" value="Reservável:"/>
                    <p:selectBooleanCheckbox id="bookable" value="" />  
                    <p:message for="bookable" />
                    <p:commandButton value="Buscar"/>  
                </h:panelGrid>

                <p:growl id="growl" showDetail="true"/>  

                <p:dataTable id="table_classRoom" var="classRoom" value="#{tableClassRoom.classRooms}" paginator="true" rows="15" paginatorPosition="bottom"
                             rowKey="#{classRoom.id}" selection="#{tableClassRoom.selectedClassRoom}" selectionMode="single">  

                    <p:ajax event="rowSelect" listener="#{tableClassRoom.onRowSelect}" 
                            update=":form_reserva :form_reserva:growl" oncomplete="classRoomDialog.show()" />  
                    <p:ajax event="rowUnselect" listener="#{tableClassRoom.onRowUnselect}" update=":form_reserva:growl"/>  

                    <p:column headerText="Id">  
                        <h:outputText value="#{classRoom.id}" />  
                    </p:column>  
                    <p:column headerText="Nome">  
                        <h:outputText value="#{classRoom.name}" />  
                    </p:column>  

                    <p:column headerText="Abreviatura">  
                        <h:outputText value="#{classRoom.short}" />  
                    </p:column>  

                    <p:column headerText="Capacidade">  
                        <h:outputText value="#{classRoom.capacity}" />  
                    </p:column>  

                    <p:column headerText="Tipo">  
                        <h:outputText value="#{classRoom.type}" />  
                    </p:column>  
                    <p:column headerText="Reservável">  
                        <h:outputText value="#{classRoom.bookable}" />  
                    </p:column>  
                </p:dataTable> 
            </p:panel> 

            <p:dialog id="dialog" header="Detalhes da Sala" widgetVar="classRoomDialog" resizable="false"  
                      showEffect="fade" hideEffect="explode">  
                <h:form id="horarios">
                    <p:panel id="panel_horario" header="Horário das salas">  
                        <h:panelGrid columns="3" cellpadding="2" >  

                            <h:outputLabel for="id" value="Id: "/>  
                            <p:inputText id="id" value="#{tableClassRoom.selectedClassRoom.id}"  size="10" style="margin-left:26%"/> 
                            <p:message for="id" />
                        </h:panelGrid>
                        <h:panelGrid columns="6" cellpadding="2" >  
                            <h:outputLabel for="name" value="Nome: " />  
                            <p:inputText id="name" value="#{tableClassRoom.selectedClassRoom.name}" size="61" style="margin-left: 0%"/> 
                            <p:message for="name" />

                            <h:outputLabel for="short" value="Abreviação: " style="margin-left:5%"/>  
                            <p:inputText id="short" value="#{tableClassRoom.selectedClassRoom.short}" size="10" style="margin-left: 4%"/> 
                            <p:message for="short" />
                        </h:panelGrid>
                        <h:panelGrid columns="8" cellpadding="2" >  
                            <h:outputLabel for="type" value="Tipo: "/>  
                            <p:inputText id="type" value="#{tableClassRoom.selectedClassRoom.type}" style="margin-left:7%"/> 
                            <p:message for="type" />

                            <h:outputLabel for="owner" value="Responsável: " style="margin-left:6%"/>  
                            <p:inputText id="owner" value="#{tableClassRoom.selectedClassRoom.owner.login}"/> 
                            <p:message for="owner" />

                            <h:outputLabel for="bookable" value="Reservável: " style="margin-left:3%"/>  
                            <p:inputText id="bookable" value="#{tableClassRoom.selectedClassRoom.bookable}"/> 
                            <p:message for="bookable" />
                        </h:panelGrid>

                        <p:separator style="margin-bottom:10px"/>  

                        <div id='calendar'></div>
                    </p:panel> 
                </h:form>
            </p:dialog>  


        </h:form>
    </div>
</ui:composition>